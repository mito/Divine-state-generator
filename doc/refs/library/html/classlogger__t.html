<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DiVinE: logger_t Class Reference</title>
<link href="main.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>logger_t Class Reference</h1><!-- doxytag: class="logger_t" --><code>#include &lt;<a class="el" href="logger_8hh-source.html">logger.hh</a>&gt;</code>
<p>

<p>
<a href="classlogger__t-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#1e1dfc52e9837533a31581f24a27d355">init</a> (string tmpstr_in, int format_in=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#5fb0cd4c2662e4663f34647e2d611f5b">init</a> (<a class="el" href="classdistributed__t.html">distributed_t</a> *divine_ptr_in, std::string basename, int format=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#c332a1767ab1a718ab174e30399f5cd5">log_now</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#cae582a9b7f55489777d478a6fa2d012">logger_t</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#cc9451fab5a07f740a6997a98ded3605">register_double</a> (const log_double_t &amp;functor, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#fed4039a0e702c54d3f85718f21f3d1d">register_double</a> (doublefunc_t func_ptr, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#07af858522cc4c99d5d8f3f4f8131b4d">register_int</a> (intfunc_t func_ptr, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#6327a67eed3c40b537739160779ee361">register_slong_int</a> (const log_slong_int_t &amp;functor, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#f5fb3643f3d1318e9b21cefb0c3a8a4a">register_ulong_int</a> (const log_ulong_int_t &amp;functor, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#eddb1bb0ff1ae58ccd37a1ed2c782546">register_unsigned</a> (unsignedfunc_t func_ptr, std::string description=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#2d0a6ea945a76e4fb7766413e41afeae">set_storage</a> (<a class="el" href="classexplicit__storage__t.html">explicit_storage_t</a> *storage_ptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#21e76a3e5a375543afc62dac3bb9bbf0">stop_SIGALRM</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#405b04a65e39aa25596052d1ea5b6610">use_SIGALRM</a> (unsigned int period=1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger__t.html#4f6a271e59715768c67725faa35e027c">~logger_t</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="66ac0b9dfdb11e8366c5e590ad43cc8c"></a><!-- doxytag: member="logger_t::signal_period" ref="66ac0b9dfdb11e8366c5e590ad43cc8c" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>signal_period</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class <a class="el" href="classlogger__t.html">logger_t</a> is used to periodically log various values into logfiles. There are as many logfiles produced as there are workstations participating the computation. The logfiles may be further processed by plotlog script that uses gnuplot to create corresponding (e)ps graphs. The class can be used only in combination with class <a class="el" href="classdistributed__t.html" title="Main distributed support class.">distributed_t</a>.<p>
NOTE: Usage of the <a class="el" href="classlogger__t.html">logger_t</a> class slowdowns the execution of the algorithm. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="cae582a9b7f55489777d478a6fa2d012"></a><!-- doxytag: member="logger_t::logger_t" ref="cae582a9b7f55489777d478a6fa2d012" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlogger__t.html">logger_t</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor does nothing. To initialize the instance of the class use the init member function. 
</div>
</div><p>
<a class="anchor" name="4f6a271e59715768c67725faa35e027c"></a><!-- doxytag: member="logger_t::~logger_t" ref="4f6a271e59715768c67725faa35e027c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classlogger__t.html">logger_t</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor prints footer to the logfile and closes the logfile. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1e1dfc52e9837533a31581f24a27d355"></a><!-- doxytag: member="logger_t::init" ref="1e1dfc52e9837533a31581f24a27d355" args="(string tmpstr_in, int format_in=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init           </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>tmpstr_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>format_in</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The same as <a class="el" href="classlogger__t.html#5fb0cd4c2662e4663f34647e2d611f5b">init(distributed_t * divine_ptr_in, std::string basename, int format)</a>, but divine_ptr_in = 0 implicitly. 
<p>References <a class="el" href="classlogger__t.html#5fb0cd4c2662e4663f34647e2d611f5b">init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5fb0cd4c2662e4663f34647e2d611f5b"></a><!-- doxytag: member="logger_t::init" ref="5fb0cd4c2662e4663f34647e2d611f5b" args="(distributed_t *divine_ptr_in, std::string basename, int format=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdistributed__t.html">distributed_t</a> *&nbsp;</td>
          <td class="paramname"> <em>divine_ptr_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>format</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This member function is called to initialize an instance of <a class="el" href="classlogger__t.html">logger_t</a> class. It accepts two obligatory parameters: a pointer to instance of <a class="el" href="classdistributed__t.html" title="Main distributed support class.">distributed_t</a> class and a base name of logfiles. (The base name is extended with .00, .01, .02, etc, by <a class="el" href="classlogger__t.html">logger_t</a> to distinguish individual logfiles.) The third parameter that gives the format of logfiles is optional (default value is 0, which corresponds to the format compatibile with plotlog script).<p>
The method opens the logfile and print header into it according the chosen format. The function should be called after the set_storage and all the register member functions were called.<p>
<em>divine_ptr_in</em> can be zero value (network-related values will be then zero too). 
<p>Referenced by <a class="el" href="logger_8cc-source.html#l00055">init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c332a1767ab1a718ab174e30399f5cd5"></a><!-- doxytag: member="logger_t::log_now" ref="c332a1767ab1a718ab174e30399f5cd5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_now           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forces the logger to log current values now. If signal/alarm mechanism is involved, then this function is typically called just before the destructor to log final values. If no signal/alarm mechanism is used, then this function is supposed to be called periodically. 
<p>References <a class="el" href="distributed_8hh-source.html#l00171">distributed_t::cluster_size</a>, <a class="el" href="network_8cc-source.html#l00837">network_t::get_all_barriers_cnt()</a>, <a class="el" href="network_8cc-source.html#l01553">network_t::get_all_buffers_flushes_cnt()</a>, <a class="el" href="network_8cc-source.html#l00698">network_t::get_all_received_msgs_cnt()</a>, <a class="el" href="network_8cc-source.html#l00683">network_t::get_all_sent_msgs_cnt()</a>, <a class="el" href="network_8cc-source.html#l00745">network_t::get_sent_msgs_cnt_sent_to()</a>, <a class="el" href="explicit__storage_8cc-source.html#l00186">explicit_storage_t::get_states_stored()</a>, <a class="el" href="distributed_8hh-source.html#l00169">distributed_t::network</a>, <a class="el" href="sysinfo_8cc-source.html#l00051">vminfo_t::scan()</a>, and <a class="el" href="sysinfo_8hh-source.html#l00036">vminfo_t::vmsize</a>.</p>

</div>
</div><p>
<a class="anchor" name="cc9451fab5a07f740a6997a98ded3605"></a><!-- doxytag: member="logger_t::register_double" ref="cc9451fab5a07f740a6997a98ded3605" args="(const log_double_t &amp;functor, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_double           </td>
          <td>(</td>
          <td class="paramtype">const log_double_t &amp;&nbsp;</td>
          <td class="paramname"> <em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register functor that will be called by the log_now function to obtained double f. p. value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file.<p>
This can be used to log the number of states stored in the queue of states waiting for exploration, for example. 
<p>References <a class="el" href="error_8hh.html#0dc53778a7848e90e519edb70273ebf6">gerr</a>.</p>

</div>
</div><p>
<a class="anchor" name="fed4039a0e702c54d3f85718f21f3d1d"></a><!-- doxytag: member="logger_t::register_double" ref="fed4039a0e702c54d3f85718f21f3d1d" args="(doublefunc_t func_ptr, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_double           </td>
          <td>(</td>
          <td class="paramtype">doublefunc_t&nbsp;</td>
          <td class="paramname"> <em>func_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register function that will be called by the log_now function to obtained double value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file. 
</div>
</div><p>
<a class="anchor" name="07af858522cc4c99d5d8f3f4f8131b4d"></a><!-- doxytag: member="logger_t::register_int" ref="07af858522cc4c99d5d8f3f4f8131b4d" args="(intfunc_t func_ptr, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_int           </td>
          <td>(</td>
          <td class="paramtype">intfunc_t&nbsp;</td>
          <td class="paramname"> <em>func_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register function that will be called by the log_now function to obtained int value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file. 
</div>
</div><p>
<a class="anchor" name="6327a67eed3c40b537739160779ee361"></a><!-- doxytag: member="logger_t::register_slong_int" ref="6327a67eed3c40b537739160779ee361" args="(const log_slong_int_t &amp;functor, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_slong_int           </td>
          <td>(</td>
          <td class="paramtype">const log_slong_int_t &amp;&nbsp;</td>
          <td class="paramname"> <em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register functor that will be called by the log_now function to obtained signed int value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file.<p>
This can be used to log the number of states stored in the queue of states waiting for exploration, for example. 
<p>References <a class="el" href="error_8hh.html#0dc53778a7848e90e519edb70273ebf6">gerr</a>.</p>

</div>
</div><p>
<a class="anchor" name="f5fb3643f3d1318e9b21cefb0c3a8a4a"></a><!-- doxytag: member="logger_t::register_ulong_int" ref="f5fb3643f3d1318e9b21cefb0c3a8a4a" args="(const log_ulong_int_t &amp;functor, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_ulong_int           </td>
          <td>(</td>
          <td class="paramtype">const log_ulong_int_t &amp;&nbsp;</td>
          <td class="paramname"> <em>functor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register functor that will be called by the log_now function to obtained unsigned int value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file.<p>
This can be used to log the number of states stored in the queue of states waiting for exploration, for example. 
<p>References <a class="el" href="error_8hh.html#0dc53778a7848e90e519edb70273ebf6">gerr</a>.</p>

</div>
</div><p>
<a class="anchor" name="eddb1bb0ff1ae58ccd37a1ed2c782546"></a><!-- doxytag: member="logger_t::register_unsigned" ref="eddb1bb0ff1ae58ccd37a1ed2c782546" args="(unsignedfunc_t func_ptr, std::string description=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_unsigned           </td>
          <td>(</td>
          <td class="paramtype">unsignedfunc_t&nbsp;</td>
          <td class="paramname"> <em>func_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>description</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function can be used to register function that will be called by the log_now function to obtained unsigned int value to be logged into logfile. The second optional parameter is a short (below 8 characters) description of the value that could be (depending on format) printed in the header of the file.<p>
This can be used to log the number of states stored in the queue of states waiting for exploration, for example. 
</div>
</div><p>
<a class="anchor" name="2d0a6ea945a76e4fb7766413e41afeae"></a><!-- doxytag: member="logger_t::set_storage" ref="2d0a6ea945a76e4fb7766413e41afeae" args="(explicit_storage_t *storage_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_storage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classexplicit__storage__t.html">explicit_storage_t</a> *&nbsp;</td>
          <td class="paramname"> <em>storage_ptr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If logging of the number of states kept in the storage is requested, this member function should be used to set the pointer to instance of <a class="el" href="classexplicit__storage__t.html" title="explicit storage class">explicit_storage_t</a> class.<p>
Should be called before init member function. 
</div>
</div><p>
<a class="anchor" name="21e76a3e5a375543afc62dac3bb9bbf0"></a><!-- doxytag: member="logger_t::stop_SIGALRM" ref="21e76a3e5a375543afc62dac3bb9bbf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_SIGALRM           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops POSIX signal/alarm mechanism. (Starts ingoring incomming signals.) 
</div>
</div><p>
<a class="anchor" name="405b04a65e39aa25596052d1ea5b6610"></a><!-- doxytag: member="logger_t::use_SIGALRM" ref="405b04a65e39aa25596052d1ea5b6610" args="(unsigned int period=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void use_SIGALRM           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>period</em> = <code>1</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts POSIX signal/alarm mechanism to call log_now function periodically. The period is given in seconds. (One second is the shortest possible period.)<p>
Should be called after the init member function. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="logger_8hh-source.html">logger.hh</a><li>logger.cc</ul>
</div>

<hr size="1"><small><img align="center" src="divine_mini.gif"><b> Reference Manual for Library, 2006 developed in <a href="http://www.fi.muni.cz/paradise/">ParaDiSe</a> laboratory, <a href="http://www.fi.muni.cz/">Faculty of Informatics</a>, <a href="http://www.muni.cz/">Masaryk University</a></b></small>
</body>
</html>


