<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DiVinE: explicit_system.hh Source File</title>
<link href="main.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
<h1>explicit_system.hh</h1><a href="explicit__system_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef DIVINE_EXPLICIT_SYSTEM_HH</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define DIVINE_EXPLICIT_SYSTEM_HH</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="preprocessor">#ifndef DOXYGEN_PROCESSING</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="system_8hh.html">system/system.hh</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="state_8hh.html">system/state.hh</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="system__trans_8hh.html">system/system_trans.hh</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="expression_8hh.html">system/expression.hh</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "common/types.hh"</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include "common/deb.hh"</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="keyword">namespace </span>divine { <span class="comment">//We want Doxygen not to see namespace `dve'</span>
<a name="l00023"></a>00023 <span class="keyword">using</span> std::cerr; <span class="keyword">using</span> std::endl;
<a name="l00024"></a>00024 <span class="preprocessor">#endif //DOXYGEN_PROCESSING</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="keyword">class </span><a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a>;
<a name="l00027"></a>00027 <span class="keyword">class </span><a class="code" href="classenabled__trans__container__t.html" title="Container determined for storing enabled processes in one state.">enabled_trans_container_t</a>;
<a name="l00028"></a>00028 <span class="keyword">class </span><a class="code" href="classsystem__trans__t.html" title="Class storing informations about one system transition.">system_trans_t</a>;
<a name="l00029"></a>00029 <span class="keyword">class </span><a class="code" href="classenabled__trans__t.html" title="Class storing informations about one enabled transition.">enabled_trans_t</a>;
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">//CONSTANTS:</span>
<a name="l00035"></a><a class="code" href="explicit__system_8hh.html#b4e9d323449e9006b906920289cd1525">00035</a> <span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="explicit__system_8hh.html#b4e9d323449e9006b906920289cd1525">SUCC_NORMAL</a> = 0;
<a name="l00039"></a><a class="code" href="explicit__system_8hh.html#a1d51d9a9e91696b9b5909b457dbd82e">00039</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="explicit__system_8hh.html#a1d51d9a9e91696b9b5909b457dbd82e">SUCC_ERROR</a> = 1;
<a name="l00043"></a><a class="code" href="explicit__system_8hh.html#62fa11b62169b0697160f230ef80784a">00043</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="explicit__system_8hh.html#62fa11b62169b0697160f230ef80784a">SUCC_DEADLOCK</a> = 2;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//INLINED FUNCTIONS:</span>
<a name="l00047"></a>00047 <span class="comment"></span>
<a name="l00053"></a><a class="code" href="explicit__system_8hh.html#7f0713335a4ef94d493e2033e8d0f014">00053</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="explicit__system_8hh.html#7f0713335a4ef94d493e2033e8d0f014" title="Returns, whether get_succs() method has returned SUCC_NORMAL.">succs_normal</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> succs_result)
<a name="l00054"></a>00054 { <span class="keywordflow">return</span> (succs_result == <a class="code" href="explicit__system_8hh.html#b4e9d323449e9006b906920289cd1525">SUCC_NORMAL</a>); }
<a name="l00055"></a>00055 
<a name="l00057"></a>00057 
<a name="l00065"></a><a class="code" href="explicit__system_8hh.html#cb7d93141a0112e12408add3d7de5627">00065</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="explicit__system_8hh.html#cb7d93141a0112e12408add3d7de5627" title="Returns, whether return value of get_succs() comprises SUCC_ERROR.">succs_error</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> succs_result)
<a name="l00066"></a>00066 { <span class="keywordflow">return</span> ((succs_result | <a class="code" href="explicit__system_8hh.html#a1d51d9a9e91696b9b5909b457dbd82e">SUCC_ERROR</a>) == succs_result); }
<a name="l00067"></a>00067 
<a name="l00069"></a>00069 
<a name="l00077"></a><a class="code" href="explicit__system_8hh.html#8e459b08cb4292b6e8e81de110a7b3d3">00077</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="explicit__system_8hh.html#8e459b08cb4292b6e8e81de110a7b3d3" title="Returns, whether return value of get_succs() comprises SUCC_DEADLOCK.">succs_deadlock</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> succs_result)
<a name="l00078"></a>00078 { <span class="keywordflow">return</span> ((succs_result | <a class="code" href="explicit__system_8hh.html#62fa11b62169b0697160f230ef80784a">SUCC_DEADLOCK</a>) == succs_result); }
<a name="l00079"></a>00079 
<a name="l00082"></a>00082 
<a name="l00090"></a><a class="code" href="classexplicit__system__t.html">00090</a> <span class="keyword">class </span><a class="code" href="classexplicit__system__t.html">explicit_system_t</a>: <span class="keyword">public</span> <span class="keyword">virtual</span> <a class="code" href="classsystem__t.html" title="Abstract interface of a class representing a model of a system.">system_t</a> 
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092  <span class="comment">//PUBLIC PART:</span>
<a name="l00093"></a>00093  <span class="keyword">public</span>:
<a name="l00094"></a>00094  
<a name="l00095"></a>00095  <span class="comment">//VIRTUAL INTERFACE METHODS:</span>
<a name="l00096"></a>00096  
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="classexplicit__system__t.html#3a2a2fbc4a80f75ae8ecee96cb51acc1">00099</a>  <a class="code" href="classexplicit__system__t.html">explicit_system_t</a>(<a class="code" href="classerror__vector__t.html" title="The main class in error.hh determined for storing.">error_vector_t</a> &amp; evect):<a class="code" href="classsystem__t.html" title="Abstract interface of a class representing a model of a system.">system_t</a>(evect) { }
<a name="l00100"></a>00100  
<a name="l00102"></a><a class="code" href="classexplicit__system__t.html#7660b22e6284f2a7a2a02a31dee37c5d">00102</a>  <span class="keyword">virtual</span> ~<a class="code" href="classexplicit__system__t.html">explicit_system_t</a>() {};
<a name="l00103"></a>00103  
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00116"></a>00116  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> is_erroneous(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state) = 0;
<a name="l00117"></a>00117   
<a name="l00122"></a>00122 
<a name="l00130"></a>00130  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> is_accepting(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, size_int_t acc_group=0, size_int_t pair_member=1) = 0;
<a name="l00131"></a>00131  
<a name="l00133"></a>00133 
<a name="l00135"></a>00135  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> violates_assertion(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state) <span class="keyword">const</span> = 0;
<a name="l00136"></a>00136 
<a name="l00138"></a>00138 
<a name="l00140"></a>00140  <span class="keyword">virtual</span> size_int_t violated_assertion_count(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state) <span class="keyword">const</span> = 0;
<a name="l00141"></a>00141  
<a name="l00144"></a>00144 
<a name="l00146"></a>00146  <span class="keyword">virtual</span> std::string violated_assertion_string(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state,
<a name="l00147"></a>00147                                               <span class="keyword">const</span> size_int_t index) <span class="keyword">const</span> = 0;
<a name="l00148"></a>00148  
<a name="l00150"></a>00150 
<a name="l00153"></a>00153  <span class="keyword">virtual</span> size_int_t get_preallocation_count() <span class="keyword">const</span> = 0;
<a name="l00154"></a>00154  
<a name="l00156"></a>00156  <span class="keyword">virtual</span> <span class="keywordtype">void</span> print_state(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, std::ostream &amp; outs = std::cout) = 0;
<a name="l00157"></a>00157  
<a name="l00159"></a>00159 
<a name="l00161"></a>00161  <span class="keyword">virtual</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> get_initial_state() = 0;
<a name="l00162"></a>00162 
<a name="l00164"></a>00164 
<a name="l00173"></a>00173  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_succs(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, <a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a> &amp; succs) = 0;
<a name="l00174"></a>00174 
<a name="l00176"></a>00176  <span class="comment">/* Computes i-th successor of \a state</span>
<a name="l00177"></a>00177 <span class="comment">  * \param state = state of the system</span>
<a name="l00178"></a>00178 <span class="comment">  * \param i = the index of the enabled transition</span>
<a name="l00179"></a>00179 <span class="comment">  *            (0..get_async_enabled_trans_count)</span>
<a name="l00180"></a>00180 <span class="comment">  * \param succ = the variable for storing of successor</span>
<a name="l00181"></a>00181 <span class="comment">  * \return bitwise OR of SUCC_NORMAL, SUCC_ERROR and SUCC_DEADLOCK (use</span>
<a name="l00182"></a>00182 <span class="comment">  *         functions succs_normal(), succs_error() and succs_deadlock() for</span>
<a name="l00183"></a>00183 <span class="comment">  *         testing)</span>
<a name="l00184"></a>00184 <span class="comment">  */</span>
<a name="l00185"></a>00185  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_ith_succ(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, <span class="keyword">const</span> <span class="keywordtype">int</span> i, <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> &amp; succ) = 0;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="classexplicit__system__t.html#224a9fff1b2aee6fc642aca2341c4b5c">00190</a>  <span class="keywordtype">bool</span> can_system_transitions()
<a name="l00191"></a>00191  { <span class="keywordflow">return</span> get_abilities().explicit_system_can_system_transitions; }
<a name="l00192"></a>00192  
<a name="l00193"></a>00193 
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 
<a name="l00213"></a>00213  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_succs(<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, <a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a> &amp; succs,
<a name="l00214"></a>00214                <a class="code" href="classenabled__trans__container__t.html" title="Container determined for storing enabled processes in one state.">enabled_trans_container_t</a> &amp; etc) = 0;
<a name="l00215"></a>00215  
<a name="l00217"></a>00217 
<a name="l00228"></a>00228  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_enabled_trans(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state,
<a name="l00229"></a>00229                                <a class="code" href="classenabled__trans__container__t.html" title="Container determined for storing enabled processes in one state.">enabled_trans_container_t</a> &amp; enb_trans) = 0;
<a name="l00230"></a>00230  
<a name="l00232"></a>00232 
<a name="l00244"></a>00244  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_enabled_trans_count(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, size_int_t &amp; count)
<a name="l00245"></a>00245                                                                             = 0;
<a name="l00246"></a>00246  
<a name="l00248"></a>00248 
<a name="l00259"></a>00259  <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_enabled_ith_trans(<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state,
<a name="l00260"></a>00260                                    <span class="keyword">const</span> size_int_t i,
<a name="l00261"></a>00261                                    <a class="code" href="classenabled__trans__t.html" title="Class storing informations about one enabled transition.">enabled_trans_t</a> &amp; enb_trans) = 0;
<a name="l00262"></a>00262 
<a name="l00264"></a>00264 
<a name="l00270"></a>00270  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> get_enabled_trans_succ
<a name="l00271"></a>00271     (<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, <span class="keyword">const</span> <a class="code" href="classenabled__trans__t.html" title="Class storing informations about one enabled transition.">enabled_trans_t</a> &amp; enabled,
<a name="l00272"></a>00272      <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> &amp; new_state) = 0;
<a name="l00273"></a>00273  
<a name="l00276"></a>00276 
<a name="l00283"></a>00283  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> get_enabled_trans_succs
<a name="l00284"></a>00284             (<span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state, <a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a> &amp; succs,
<a name="l00285"></a>00285              <span class="keyword">const</span> <a class="code" href="classenabled__trans__container__t.html" title="Container determined for storing enabled processes in one state.">enabled_trans_container_t</a> &amp; enabled_trans) = 0;
<a name="l00286"></a>00286 
<a name="l00288"></a>00288 
<a name="l00304"></a>00304  <span class="keyword">virtual</span> <a class="code" href="classenabled__trans__t.html" title="Class storing informations about one enabled transition.">enabled_trans_t</a> * new_enabled_trans() <span class="keyword">const</span> = 0;
<a name="l00305"></a>00305 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="classexplicit__system__t.html#820ae43771ffe08ee2f8518d4ac77c82">00310</a>  <span class="keywordtype">bool</span> can_evaluate_expressions()
<a name="l00311"></a>00311  { <span class="keywordflow">return</span> get_abilities().explicit_system_can_evaluate_expressions; }
<a name="l00312"></a>00312  
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 
<a name="l00326"></a>00326  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> eval_expr(<span class="keyword">const</span> <a class="code" href="classexpression__t.html" title="Abstact interface of a class representing an expression.">expression_t</a> * <span class="keyword">const</span> expr,
<a name="l00327"></a>00327                        <span class="keyword">const</span> <a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a> state,
<a name="l00328"></a>00328                        <a class="code" href="classdata__t.html" title="Class representing a general data type.">data_t</a> &amp; data) <span class="keyword">const</span> = 0;
<a name="l00331"></a>00331 }; <span class="comment">//END of class explicit_system_t</span>
<a name="l00332"></a>00332 
<a name="l00334"></a>00334 
<a name="l00339"></a><a class="code" href="classsucc__container__t.html">00339</a> <span class="keyword">class </span><a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a>: <span class="keyword">public</span> <a class="code" href="classarray__t.html" title="Simple resizable container representing 1-dimensional array.">array_t</a>&lt;state_t&gt;
<a name="l00340"></a>00340 {
<a name="l00341"></a>00341  <span class="keyword">public</span>:
<a name="l00344"></a><a class="code" href="classsucc__container__t.html#735a876fea632b15d8e0c481f5bf0395">00344</a>  <a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a>(): <a class="code" href="classarray__t.html" title="Simple resizable container representing 1-dimensional array.">array_t</a>&lt;<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a>&gt;(4096, 16) {}
<a name="l00347"></a><a class="code" href="classsucc__container__t.html#9e411abbe0e0e8f24fe23de62d5c31d9">00347</a>  <a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a>(<span class="keyword">const</span> <a class="code" href="classexplicit__system__t.html">explicit_system_t</a> &amp; system):
<a name="l00348"></a>00348    <a class="code" href="classarray__t.html" title="Simple resizable container representing 1-dimensional array.">array_t</a>&lt;<a class="code" href="structstate__t.html" title="Structure representing the state of the system.">state_t</a>&gt;(system.get_preallocation_count(), 16) {}
<a name="l00350"></a><a class="code" href="classsucc__container__t.html#501172b8d2dbe21b2953a394a36e9b0c">00350</a>  ~<a class="code" href="classsucc__container__t.html" title="Class determined to store successors of some state.">succ_container_t</a>() { DEBFUNC(cerr &lt;&lt; <span class="stringliteral">"Destructing succ_container_t"</span> &lt;&lt; endl;)}
<a name="l00351"></a>00351 };
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="preprocessor">#ifndef DOXYGEN_PROCESSING  </span>
<a name="l00355"></a>00355 <span class="preprocessor"></span>} <span class="comment">//END of namespace DVE</span>
<a name="l00356"></a>00356 <span class="preprocessor">#include "common/undeb.hh"</span>
<a name="l00357"></a>00357 
<a name="l00358"></a>00358 <span class="preprocessor">#endif //DOXYGEN_PROCESSING</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span>
<a name="l00360"></a>00360 <span class="preprocessor">#endif</span>
</pre></div></div>

<hr size="1"><small><img align="center" src="divine_mini.gif"><b> Reference Manual for Library, 2006 developed in <a href="http://www.fi.muni.cz/paradise/">ParaDiSe</a> laboratory, <a href="http://www.fi.muni.cz/">Faculty of Informatics</a>, <a href="http://www.muni.cz/">Masaryk University</a></b></small>
</body>
</html>


