<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DiVinE: distributed_t Class Reference</title>
<link href="main.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>distributed_t Class Reference</h1><!-- doxytag: class="distributed_t" -->Main distributed support class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="distributed_8hh-source.html">distributed.hh</a>&gt;</code>
<p>

<p>
<a href="classdistributed__t-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#732a2e11e1961865ab5ecc296321c804">distributed_t</a> (divine::error_vector_t &amp;arg0=<a class="el" href="error_8hh.html#0dc53778a7848e90e519edb70273ebf6">divine::gerr</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="32d626626eee0bc4ade146973f6abb1c"></a><!-- doxytag: member="distributed_t::finalize" ref="32d626626eee0bc4ade146973f6abb1c" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#32d626626eee0bc4ade146973f6abb1c">finalize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalizes network. Remember that you can finalize only once. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5d38ee042f732ff21bd1ee6474398879"></a><!-- doxytag: member="distributed_t::force_poll" ref="5d38ee042f732ff21bd1ee6474398879" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>force_poll</b> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#892839b13b7fdaec591ac2496333c43a">get_all_received_sync_msgs_cnt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all received synchronization messages count.  <a href="#892839b13b7fdaec591ac2496333c43a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#6292eb187ea5a0e0cf0a05d97a4bd736">get_all_sent_sync_msgs_cnt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all sent synchronization messages count.  <a href="#6292eb187ea5a0e0cf0a05d97a4bd736"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#658f0925b9e529db82912c1db5494a76">get_all_sync_barriers_cnt</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all synchronization barriers count.  <a href="#658f0925b9e529db82912c1db5494a76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#80391c8f94d725867920b3986d959e62">get_comm_matrix_rsm</a> (<a class="el" href="network_8hh.html#216456ecd5c4b1880a48cacb33628e9d">pcomm_matrix_t</a> &amp;ret, int target)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get communication matrix of received sync messages.  <a href="#80391c8f94d725867920b3986d959e62"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#2ae01df962b1712015a42f651bd6a8f3">get_comm_matrix_ssm</a> (<a class="el" href="network_8hh.html#216456ecd5c4b1880a48cacb33628e9d">pcomm_matrix_t</a> &amp;ret, int target)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get communication matrix of sent sync messages.  <a href="#2ae01df962b1712015a42f651bd6a8f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="69ad9355e95080aee359f45d3055902d"></a><!-- doxytag: member="distributed_t::get_message_processor" ref="69ad9355e95080aee359f45d3055902d" args="() const " -->
const message_processor_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#69ad9355e95080aee359f45d3055902d">get_message_processor</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a message processor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#8fbb93405361c56b09dc6b6d4e3a7eed">get_proc_msgs_buf_excluseve_mem</a> (bool &amp;value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0318ced21848f0c1daa7690cba4ea53"></a><!-- doxytag: member="distributed_t::get_state_net_id" ref="a0318ced21848f0c1daa7690cba4ea53" args="(divine::state_t &amp;state)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#a0318ced21848f0c1daa7690cba4ea53">get_state_net_id</a> (divine::state_t &amp;state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The same as <a class="el" href="classdistributed__t.html#0f3f6274a0ac3d20c6c57ac8b51938c4" title="Function to determine owner of a state.">partition_function()</a>, left here for historical reasons. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="25a40b6614565f755233080a384c35f1"></a><!-- doxytag: member="distributed_t::initialize" ref="25a40b6614565f755233080a384c35f1" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#25a40b6614565f755233080a384c35f1">initialize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Completes initialization. Remember that you can initialize only once. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#7c911a20aeef19fe3d245ca9b1884c92">is_manager</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns, whether this workstation is a manager of the distributed computation.  <a href="#7c911a20aeef19fe3d245ca9b1884c92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#882932542618d4ede278a505df3decf5">network_initialize</a> (int &amp;argc, char **&amp;argv)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Network initialization.  <a href="#882932542618d4ede278a505df3decf5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#0f3f6274a0ac3d20c6c57ac8b51938c4">partition_function</a> (divine::state_t &amp;state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to determine owner of a state.  <a href="#0f3f6274a0ac3d20c6c57ac8b51938c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9">process_messages</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that checks for arrived messages and participates in synchronization.  <a href="#0e1d99e0953c4d3d6e177099c90295b9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#48d70292df064ba3108088f9e8b08ada">set_busy</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Avoids synchronization.  <a href="#48d70292df064ba3108088f9e8b08ada"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="acdb4fb94a5e43518c3bbc19fc680271"></a><!-- doxytag: member="distributed_t::set_hash_function" ref="acdb4fb94a5e43518c3bbc19fc680271" args="(hash_functions_t)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#acdb4fb94a5e43518c3bbc19fc680271">set_hash_function</a> (<a class="el" href="hash__function_8hh.html#ddf9b3e7789490a76697839bb3239631">hash_functions_t</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets hash function to be used for partitioning. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#f2ccb51561aa5479f91e1f84a6cfa677">set_idle</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allows synchronization.  <a href="#f2ccb51561aa5479f91e1f84a6cfa677"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b66f3c9f1c990b5687ab4dab6de9e07b"></a><!-- doxytag: member="distributed_t::set_message_processor" ref="b66f3c9f1c990b5687ab4dab6de9e07b" args="(message_processor_t *proc_message)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#b66f3c9f1c990b5687ab4dab6de9e07b">set_message_processor</a> (message_processor_t *proc_message)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a message processor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#2f1e689de73ec93a0572e33cd71f13d2">set_proc_msgs_buf_exclusive_mem</a> (bool value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#ee1868dab2b33e739616d80679968672">synchronized</a> (abstract_info_t &amp;info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#2316eb420c4a5c54d38305db27aff96f">synchronized</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that together with process_messages does synchronization.  <a href="#2316eb420c4a5c54d38305db27aff96f"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="064ee3c636a3c6e063ac96e2a0d0aa18"></a><!-- doxytag: member="distributed_t::cluster_size" ref="064ee3c636a3c6e063ac96e2a0d0aa18" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#064ee3c636a3c6e063ac96e2a0d0aa18">cluster_size</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total number of computers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="582ca0493ebfdf7e0404adbd47dcf8cf"></a><!-- doxytag: member="distributed_t::network" ref="582ca0493ebfdf7e0404adbd47dcf8cf" args="" -->
<a class="el" href="classnetwork__t.html">network_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#582ca0493ebfdf7e0404adbd47dcf8cf">network</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">instance of <a class="el" href="classnetwork__t.html" title="Network communication support class.">network_t</a>, you can use it to send/receive messages, etc. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="10f9a8adb9da9f4773ad49f4cecf0702"></a><!-- doxytag: member="distributed_t::network_id" ref="10f9a8adb9da9f4773ad49f4cecf0702" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#10f9a8adb9da9f4773ad49f4cecf0702">network_id</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unique computer identifier. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc">process_user_message</a> )(char *buf, int size, int src, int tag, bool urgent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to user-defined function that processes user messages.  <a href="#34fd55827f5de222d5ce907ef19b5efc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1233c3dd9ceb58570a598596a37f4bb6"></a><!-- doxytag: member="distributed_t::processor_name" ref="1233c3dd9ceb58570a598596a37f4bb6" args="" -->
string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdistributed__t.html#1233c3dd9ceb58570a598596a37f4bb6">processor_name</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Name of the computer. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>distr_mode_t</b> { <b>PRE_INIT</b>, 
<b>PRE_INIT_NET_OK</b>, 
<b>NORMAL</b>
 }</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aca7701b8f3c6f61ff0165afc24487e8"></a><!-- doxytag: member="distributed_t::errvec" ref="aca7701b8f3c6f61ff0165afc24487e8" args="" -->
divine::error_vector_t &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>errvec</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a78cb816e906382d8166f2ae0dab2814"></a><!-- doxytag: member="distributed_t::hasher" ref="a78cb816e906382d8166f2ae0dab2814" args="" -->
<a class="el" href="classhash__function__t.html">hash_function_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>hasher</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e86a8841c1d622615f6c9c4d5c47e0b0"></a><!-- doxytag: member="distributed_t::mode" ref="e86a8841c1d622615f6c9c4d5c47e0b0" args="" -->
distr_mode_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>mode</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="68da1311ebc429860e48e5114d9d0345"></a><!-- doxytag: member="distributed_t::sync_collector" ref="68da1311ebc429860e48e5114d9d0345" args="" -->
sync_data_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>sync_collector</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="55fb72088822614dec5f30494cf56db1"></a><!-- doxytag: member="distributed_t::sync_one_result" ref="55fb72088822614dec5f30494cf56db1" args="" -->
sync_data_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>sync_one_result</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Main distributed support class. 
<p>
The class provides support for common operations necessary for distributed computing such as partition function and termination detection (synchronization). <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="732a2e11e1961865ab5ecc296321c804"></a><!-- doxytag: member="distributed_t::distributed_t" ref="732a2e11e1961865ab5ecc296321c804" args="(divine::error_vector_t &amp;arg0=divine::gerr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdistributed__t.html">distributed_t</a>           </td>
          <td>(</td>
          <td class="paramtype">divine::error_vector_t &amp;&nbsp;</td>
          <td class="paramname"> <em>arg0</em> = <code><a class="el" href="error_8hh.html#0dc53778a7848e90e519edb70273ebf6">divine::gerr</a></code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A constructor, does't initialize anything!, <br>
 non-default error handling vector can be specified 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="892839b13b7fdaec591ac2496333c43a"></a><!-- doxytag: member="distributed_t::get_all_received_sync_msgs_cnt" ref="892839b13b7fdaec591ac2496333c43a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_all_received_sync_msgs_cnt           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all received synchronization messages count. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of synchronization messages received by the calling workstation. </dd></dl>

</div>
</div><p>
<a class="anchor" name="6292eb187ea5a0e0cf0a05d97a4bd736"></a><!-- doxytag: member="distributed_t::get_all_sent_sync_msgs_cnt" ref="6292eb187ea5a0e0cf0a05d97a4bd736" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_all_sent_sync_msgs_cnt           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all sent synchronization messages count. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of synchronization messages sent by the calling workstation. </dd></dl>

</div>
</div><p>
<a class="anchor" name="658f0925b9e529db82912c1db5494a76"></a><!-- doxytag: member="distributed_t::get_all_sync_barriers_cnt" ref="658f0925b9e529db82912c1db5494a76" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_all_sync_barriers_cnt           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get all synchronization barriers count. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of synchronization barriers on the calling workstation. </dd></dl>

</div>
</div><p>
<a class="anchor" name="80391c8f94d725867920b3986d959e62"></a><!-- doxytag: member="distributed_t::get_comm_matrix_rsm" ref="80391c8f94d725867920b3986d959e62" args="(pcomm_matrix_t &amp;ret, int target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_comm_matrix_rsm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="network_8hh.html#216456ecd5c4b1880a48cacb33628e9d">pcomm_matrix_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get communication matrix of received sync messages. 
<p>
Similar to <a class="el" href="classdistributed__t.html#2ae01df962b1712015a42f651bd6a8f3" title="Get communication matrix of sent sync messages.">get_comm_matrix_ssm()</a>, but the position (<em>i</em>, <em>j</em>) of the matrix contains the count of synchronization messages received on workstation with id <em>i</em> from workstation with id <em>j</em>. 
</div>
</div><p>
<a class="anchor" name="2ae01df962b1712015a42f651bd6a8f3"></a><!-- doxytag: member="distributed_t::get_comm_matrix_ssm" ref="2ae01df962b1712015a42f651bd6a8f3" args="(pcomm_matrix_t &amp;ret, int target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_comm_matrix_ssm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="network_8hh.html#216456ecd5c4b1880a48cacb33628e9d">pcomm_matrix_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get communication matrix of sent sync messages. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ret</em>&nbsp;</td><td>- output parameter, pointer to communication matrix (of type <a class="el" href="classcomm__matrix__t.html" title="Communication matrix.">comm_matrix_t</a>) that contains at position (<em>i</em>, <em>j</em>) the count of synchronization messages sent by workstation with id <em>i</em> to workstation with id <em>j</em> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>target</em>&nbsp;</td><td>- only one workstation gets valid pointer ret, this workstation is specified by <em>target</em> parameter, which must be the same on all workstations </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><b>true</b> if the function suceeds, <b>false</b> otherwise</dd></dl>
Synchronization process requires communication between workstations. Use this function to get the counts of synchronization messages sent by each workstation to each workstation. The function must be called in a way explained for the <a class="el" href="classnetwork__t.html#e68e86a091ee9438606cfdd0e91c2a5a" title="Finalizes network, essentially closes connections and frees buffers.">network_t::barrier()</a> function. 
</div>
</div><p>
<a class="anchor" name="8fbb93405361c56b09dc6b6d4e3a7eed"></a><!-- doxytag: member="distributed_t::get_proc_msgs_buf_excluseve_mem" ref="8fbb93405361c56b09dc6b6d4e3a7eed" args="(bool &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_proc_msgs_buf_excluseve_mem           </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the value of a variable that determines whether the parameter <em>buf</em> in <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a> points directly to internal buffers.<p>
<b>true</b> means <em>buf</em> points to newly allocated (exclusive) memory, <b>false</b> means it points to internal buffers.<p>
<b>false</b> is default, it saves both time and memory. 
</div>
</div><p>
<a class="anchor" name="7c911a20aeef19fe3d245ca9b1884c92"></a><!-- doxytag: member="distributed_t::is_manager" ref="7c911a20aeef19fe3d245ca9b1884c92" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool is_manager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns, whether this workstation is a manager of the distributed computation. 
<p>
The same as <div class="fragment"><pre class="fragment"> distributed.network_id == <a class="code" href="distributed_8hh.html#4ac5938e56d17021627220d2946c27f5" title="Id of the workstation that initiated the distributed computation.">NETWORK_ID_MANAGER</a>
</pre></div> 
<p>References <a class="el" href="distributed_8hh-source.html#l00032">NETWORK_ID_MANAGER</a>.</p>

</div>
</div><p>
<a class="anchor" name="882932542618d4ede278a505df3decf5"></a><!-- doxytag: member="distributed_t::network_initialize" ref="882932542618d4ede278a505df3decf5" args="(int &amp;argc, char **&amp;argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void network_initialize           </td>
          <td>(</td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&amp;&nbsp;</td>
          <td class="paramname"> <em>argv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Network initialization. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>= Number of command line parameters. <br>
 Passing the first argument of main is common. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>= Array of command line parameters. <br>
 Passing the second argument of main is common.</td></tr>
  </table>
</dl>
Initializes network, since then cluster_size, network_id and processor_name are valid. You can also set send buffer's limits using functions of network. But you still cannot send/receive messages, etc. To complete initialization call the <a class="el" href="classdistributed__t.html#25a40b6614565f755233080a384c35f1" title="Completes initialization. Remember that you can initialize only once.">initialize()</a> function. 
<p>References <a class="el" href="distributed_8hh-source.html#l00171">cluster_size</a>, <a class="el" href="network_8cc-source.html#l00578">network_t::get_cluster_size()</a>, <a class="el" href="network_8cc-source.html#l00563">network_t::get_id()</a>, <a class="el" href="network_8cc-source.html#l00593">network_t::get_processor_name()</a>, <a class="el" href="network_8cc-source.html#l00214">network_t::initialize_network()</a>, <a class="el" href="distributed_8hh-source.html#l00169">network</a>, <a class="el" href="distributed_8hh-source.html#l00172">network_id</a>, and <a class="el" href="distributed_8hh-source.html#l00173">processor_name</a>.</p>

</div>
</div><p>
<a class="anchor" name="0f3f6274a0ac3d20c6c57ac8b51938c4"></a><!-- doxytag: member="distributed_t::partition_function" ref="0f3f6274a0ac3d20c6c57ac8b51938c4" args="(divine::state_t &amp;state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int partition_function           </td>
          <td>(</td>
          <td class="paramtype">divine::state_t &amp;&nbsp;</td>
          <td class="paramname"> <em>state</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to determine owner of a state. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>= a state, which association with a computer is to be retrieved </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>computer unique identifier of the state owner</dd></dl>
Partition function, returns the number of the computer which the state passed as the argument belongs to. 
</div>
</div><p>
<a class="anchor" name="0e1d99e0953c4d3d6e177099c90295b9"></a><!-- doxytag: member="distributed_t::process_messages" ref="0e1d99e0953c4d3d6e177099c90295b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_messages           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that checks for arrived messages and participates in synchronization. 
<p>
This function checks for new messages. If some message arrived, it receives it and calls <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a> function, that's function user must write and give to <a class="el" href="classdistributed__t.html" title="Main distributed support class.">distributed_t</a> by assigning it's pointer to <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a>.<p>
When called on manager worstation (the one with id NETWORK_ID_MANAGER), it checks whether the workstation is idle (that is no user message was received in this <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> call and user did not call <a class="el" href="classdistributed__t.html#48d70292df064ba3108088f9e8b08ada" title="Avoids synchronization.">set_busy()</a>), if yes and user also called <a class="el" href="classdistributed__t.html#2316eb420c4a5c54d38305db27aff96f" title="Function that together with process_messages does synchronization.">synchronized()</a> function previously, then synchronization process is initiated. 
<p>References <a class="el" href="distributed_8hh-source.html#l00027">DIVINE_TAG_SYNC_COMPLETION</a>, <a class="el" href="distributed_8hh-source.html#l00023">DIVINE_TAG_SYNC_ONE</a>, <a class="el" href="distributed_8hh-source.html#l00021">DIVINE_TAG_SYNC_READY</a>, <a class="el" href="distributed_8hh-source.html#l00025">DIVINE_TAG_SYNC_TWO</a>, <a class="el" href="distributed_8hh-source.html#l00029">DIVINE_TAG_USER</a>, <a class="el" href="network_8cc-source.html#l01874">network_t::flush_all_buffers_timed_out_only()</a>, <a class="el" href="network_8cc-source.html#l00698">network_t::get_all_received_msgs_cnt()</a>, <a class="el" href="network_8cc-source.html#l00683">network_t::get_all_sent_msgs_cnt()</a>, <a class="el" href="network_8cc-source.html#l02250">network_t::is_new_message()</a>, <a class="el" href="network_8cc-source.html#l02260">network_t::is_new_urgent_message()</a>, <a class="el" href="distributed_8hh-source.html#l00169">network</a>, <a class="el" href="distributed_8hh-source.html#l00172">network_id</a>, <a class="el" href="distributed_8hh-source.html#l00032">NETWORK_ID_MANAGER</a>, <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc">process_user_message</a>, <a class="el" href="network_8cc-source.html#l02459">network_t::receive_message()</a>, <a class="el" href="network_8cc-source.html#l02488">network_t::receive_message_non_exc()</a>, <a class="el" href="network_8cc-source.html#l02634">network_t::receive_urgent_message()</a>, <a class="el" href="network_8cc-source.html#l02639">network_t::receive_urgent_message_non_exc()</a>, <a class="el" href="network_8cc-source.html#l01442">network_t::send_urgent_message()</a>, <a class="el" href="network_8hh-source.html#l00285">network_t::stats_num()</a>, <a class="el" href="network_8hh-source.html#l00348">network_t::stats_Recv_bytes</a>, and <a class="el" href="network_8hh-source.html#l00347">network_t::stats_Sent_bytes_local</a>.</p>

</div>
</div><p>
<a class="anchor" name="48d70292df064ba3108088f9e8b08ada"></a><!-- doxytag: member="distributed_t::set_busy" ref="48d70292df064ba3108088f9e8b08ada" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_busy           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Avoids synchronization. 
<p>
This method must be called before <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> to be effective. 
</div>
</div><p>
<a class="anchor" name="f2ccb51561aa5479f91e1f84a6cfa677"></a><!-- doxytag: member="distributed_t::set_idle" ref="f2ccb51561aa5479f91e1f84a6cfa677" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_idle           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allows synchronization. 
<p>
This method must be called before <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> to be effective. 
<p>References <a class="el" href="network_8cc-source.html#l01778">network_t::flush_all_buffers()</a>, <a class="el" href="network_8cc-source.html#l01802">network_t::flush_some_buffers()</a>, and <a class="el" href="distributed_8hh-source.html#l00169">network</a>.</p>

</div>
</div><p>
<a class="anchor" name="2f1e689de73ec93a0572e33cd71f13d2"></a><!-- doxytag: member="distributed_t::set_proc_msgs_buf_exclusive_mem" ref="2f1e689de73ec93a0572e33cd71f13d2" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_proc_msgs_buf_exclusive_mem           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determines whether the parameter buf in the <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a> function points <br>
 directly to internal buffers<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>- if <b>true</b>, then the <em>buf</em> parameter in <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a> points to exclusive memory and the user is responsible for freeing it. if <b>false</b>, then no special memory is allocated and <em>buf</em> points directly to internal buffer and user must not free it. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ee1868dab2b33e739616d80679968672"></a><!-- doxytag: member="distributed_t::synchronized" ref="ee1868dab2b33e739616d80679968672" args="(abstract_info_t &amp;info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool synchronized           </td>
          <td>(</td>
          <td class="paramtype">abstract_info_t &amp;&nbsp;</td>
          <td class="paramname"> <em>info</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that together with process_messages does synchronization and allows to collect some information during the synchronization process<p>
Similar to <a class="el" href="classdistributed__t.html#2316eb420c4a5c54d38305db27aff96f" title="Function that together with process_messages does synchronization.">synchronized()</a> but it allows to collect some information. Let's take updateable info as an example (see <a class="el" href="classupdateable__info__t.html" title="Class used to collect data during synchronization.">updateable_info_t</a>). You must create a structure (of type struct), attributes of the structure will be used for the collected data. The structure also contains update() function, which manipulates with the attributes. Create an instance of <a class="el" href="classupdateable__info__t.html" title="Class used to collect data during synchronization.">updateable_info_t</a> and pass the structure as its template parameter (the actual structure used for collected data is accessible via the <a class="el" href="classupdateable__info__t.html#095b452d7eb6548d3ad690f32dde02c1" title="Structure that stores collected data.">updateable_info_t::data</a> parameter). Pass the instance as the parameter of this function. After all workstations are synchronized, manager workstation (0) sends the contents of the structure to workstation 1, workstation 1 sends it to workstation 2, etc. The last workstation then completes the round. On every workstation the update() function is called, which can manipulate with the attributes. 
</div>
</div><p>
<a class="anchor" name="2316eb420c4a5c54d38305db27aff96f"></a><!-- doxytag: member="distributed_t::synchronized" ref="2316eb420c4a5c54d38305db27aff96f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool synchronized           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that together with process_messages does synchronization. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><b>true</b> if workstations are synchronized.</dd></dl>
It works in the following way. By first call to this function (on all workstations in the cluster) you are telling that you want to perform some distributed computation and at the end you wan to synchronize. During the computation you send messages using <a class="el" href="classnetwork__t.html#82fbd94f9fe651085c4ed0eb91388f34" title="Blocking message send.">network_t::send_message()</a> or <a class="el" href="classnetwork__t.html#c2817f661e9ca9f2c5c1b0ab73880289" title="Blocking urgent message send.">network_t::send_urgent_message()</a>. To receive message use the <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> function which calls <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a>, where you can do something with the received message. By subsequent calls to <a class="el" href="classdistributed__t.html#2316eb420c4a5c54d38305db27aff96f" title="Function that together with process_messages does synchronization.">synchronized()</a> you determine if all workstations finished their work. In distributed computation, work mosly implies sending messages, but if you want to do some bigger amount of work without sending messages and you don't want to synchronize, use the <a class="el" href="classdistributed__t.html#48d70292df064ba3108088f9e8b08ada" title="Avoids synchronization.">set_busy()</a> function. Don't forget to call <a class="el" href="classdistributed__t.html#f2ccb51561aa5479f91e1f84a6cfa677" title="Allows synchronization.">set_idle()</a> function when your work is finished and remember to call them before <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a>. <a class="el" href="classdistributed__t.html#2316eb420c4a5c54d38305db27aff96f" title="Function that together with process_messages does synchronization.">synchronized()</a> and <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> should be called quite often to make the computation efficient.<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Synchronization is performed in <a class="el" href="classdistributed__t.html#0e1d99e0953c4d3d6e177099c90295b9" title="Function that checks for arrived messages and participates in synchronization.">process_messages()</a> method. </dd></dl>

<p>References <a class="el" href="network_8cc-source.html#l00852">network_t::barrier()</a>, <a class="el" href="distributed_8hh-source.html#l00021">DIVINE_TAG_SYNC_READY</a>, and <a class="el" href="distributed_8hh-source.html#l00169">network</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="34fd55827f5de222d5ce907ef19b5efc"></a><!-- doxytag: member="distributed_t::process_user_message" ref="34fd55827f5de222d5ce907ef19b5efc" args=")(char *buf, int size, int src, int tag, bool urgent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc">process_user_message</a>)(char *buf, int size, int src, int tag, bool urgent)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to user-defined function that processes user messages. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>- pointer to message data, it points either to newly allocated memory or to internal buffers (see <a class="el" href="classdistributed__t.html#2f1e689de73ec93a0572e33cd71f13d2">set_proc_msgs_buf_exclusive_mem()</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>- size of the received message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>- id of the sender workstation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>- tag of the message (Remember that all user messages must have tag greater or equal to DIVINE_TAG_USER. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urgent</em>&nbsp;</td><td>- specifies whether the received message is urgent or not</td></tr>
  </table>
</dl>
To be able to use synchronization together with sending your own messages, you must write this function and assign it's pointer to <a class="el" href="classdistributed__t.html#34fd55827f5de222d5ce907ef19b5efc" title="Pointer to user-defined function that processes user messages.">process_user_message()</a>. 
<p>Referenced by <a class="el" href="distributed_8cc-source.html#l00354">process_messages()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="distributed_8hh-source.html">distributed.hh</a><li>distributed.cc</ul>
</div>

<hr size="1"><small><img align="center" src="divine_mini.gif"><b> Reference Manual for Library, 2006 developed in <a href="http://www.fi.muni.cz/paradise/">ParaDiSe</a> laboratory, <a href="http://www.fi.muni.cz/">Faculty of Informatics</a>, <a href="http://www.muni.cz/">Masaryk University</a></b></small>
</body>
</html>


