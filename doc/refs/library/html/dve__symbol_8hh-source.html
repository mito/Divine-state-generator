<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DiVinE: dve_symbol.hh Source File</title>
<link href="main.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
<h1>dve_symbol.hh</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DVE_SYMBOL_HH</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DVE_SYMBOL_HH</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#ifndef DOXYGEN_PROCESSING</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="dve__expression_8hh.html">system/dve/dve_expression.hh</a>"</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">namespace </span>divine { <span class="comment">//We want Doxygen not to see namespace `dve'</span>
<a name="l00013"></a>00013 <span class="preprocessor">#endif //DOXYGEN_PROCESSING</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="keyword">class </span><a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a>;
<a name="l00017"></a>00017 <span class="keyword">enum</span> dve_var_type_t
<a name="l00018"></a>00018  {
<a name="l00019"></a>00019   VAR_BYTE = 0, 
<a name="l00020"></a>00020   VAR_INT = 1 
<a name="l00021"></a>00021  };
<a name="l00023"></a>00023 <span class="keyword">enum</span> dve_sym_type_t
<a name="l00024"></a>00024   { SYM_VARIABLE, 
<a name="l00025"></a>00025     SYM_STATE,    
<a name="l00026"></a>00026     SYM_PROCESS,  
<a name="l00027"></a>00027     SYM_CHANNEL   
<a name="l00028"></a>00028     };
<a name="l00029"></a>00029 
<a name="l00032"></a>00032 
<a name="l00060"></a><a class="code" href="classdve__symbol__t.html">00060</a> <span class="keyword">class </span><a class="code" href="classdve__symbol__t.html">dve_symbol_t</a>
<a name="l00061"></a>00061  {
<a name="l00062"></a>00062   <span class="keyword">private</span>:
<a name="l00063"></a>00063   <span class="keyword">struct </span>var_t <span class="comment">//structure of informations about variable symbols</span>
<a name="l00064"></a>00064   {
<a name="l00065"></a>00065    <span class="keywordtype">bool</span> vector;
<a name="l00066"></a>00066    <span class="keywordtype">bool</span> const_var;
<a name="l00067"></a>00067    dve_var_type_t var_type;
<a name="l00068"></a>00068    size_int_t bound;
<a name="l00069"></a>00069    <span class="keyword">union</span>
<a name="l00070"></a>00070     {
<a name="l00071"></a>00071      <a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * expr;
<a name="l00072"></a>00072      std::vector&lt;dve_expression_t *&gt; * field;
<a name="l00073"></a>00073     } init;
<a name="l00074"></a>00074   }; <span class="comment">//END of var_t structure</span>
<a name="l00075"></a>00075   size_int_t lid;   <span class="comment">//type-of-symbol-dependent local identifier</span>
<a name="l00076"></a>00076   size_int_t sid;   <span class="comment">//global symbol identifier</span>
<a name="l00077"></a>00077   size_int_t gid;   <span class="comment">//type-of-symbol-dependent global ID</span>
<a name="l00078"></a>00078   dve_sym_type_t type;
<a name="l00079"></a>00079   <span class="keyword">const</span> <span class="keywordtype">char</span> *name;<span class="comment">//name of symbol</span>
<a name="l00080"></a>00080   size_int_t namelen; <span class="comment">//length of symbol name</span>
<a name="l00081"></a>00081   <span class="keywordtype">bool</span> valid;  <span class="comment">//not really declared, but already used</span>
<a name="l00082"></a>00082   var_t info_var; <span class="comment">//more information about symbol</span>
<a name="l00083"></a>00083   size_int_t frame;          <span class="comment">//info for proctype</span>
<a name="l00084"></a>00084   size_int_t channel_item_count; <span class="comment">//information about type of channel</span>
<a name="l00085"></a>00085   <span class="keywordtype">bool</span> channel_typed; <span class="comment">//tells, whether channel is typed=&gt;next 2 items are valid:</span>
<a name="l00086"></a>00086   <a class="code" href="classarray__t.html" title="Simple resizable container representing 1-dimensional array.">array_t&lt;dve_var_type_t&gt;</a> channel_type_list; <span class="comment">//the list of types transmitted</span>
<a name="l00087"></a>00087                                              <span class="comment">//simultaneously</span>
<a name="l00088"></a>00088   slong_int_t channel_buffer_size; <span class="comment">//size of the buffer for typed channeld</span>
<a name="l00089"></a>00089   
<a name="l00090"></a>00090   <span class="keyword">public</span>:
<a name="l00092"></a>00092 
<a name="l00095"></a><a class="code" href="classdve__symbol__t.html#8f6f99a073c7e735e8888f758ed0a3e2">00095</a>   <span class="keyword">static</span> <span class="keyword">const</span> size_int_t CHANNEL_UNUSED;
<a name="l00097"></a>00097 
<a name="l00101"></a><a class="code" href="classdve__symbol__t.html#434e85da198766a10d105c33446f7afa">00101</a>   <a class="code" href="classdve__symbol__t.html">dve_symbol_t</a>(<span class="keyword">const</span> dve_sym_type_t t, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> n, <span class="keyword">const</span> size_int_t l):
<a name="l00102"></a>00102      lid(NO_ID), sid(NO_ID), gid(NO_ID), type(t), name(n),
<a name="l00103"></a>00103      namelen(l), valid(false), channel_item_count(CHANNEL_UNUSED),
<a name="l00104"></a>00104      channel_typed(false), channel_buffer_size(0) {}
<a name="l00106"></a>00106   ~<a class="code" href="classdve__symbol__t.html">dve_symbol_t</a>();
<a name="l00108"></a>00108 
<a name="l00112"></a><a class="code" href="classdve__symbol__t.html#0e6c352ebae4b9de4fc860811a9ea7d8">00112</a>   size_int_t get_lid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> lid; }
<a name="l00114"></a><a class="code" href="classdve__symbol__t.html#20adeaf99e9f70b1b9b5a8fcb61bd190">00114</a>   <span class="keywordtype">void</span> set_lid(<span class="keyword">const</span> size_int_t lid_arg) { lid = lid_arg; }
<a name="l00116"></a><a class="code" href="classdve__symbol__t.html#368bf7aaf22876fc55d01e78e494ca94">00116</a>   size_int_t get_sid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> sid; }
<a name="l00118"></a><a class="code" href="classdve__symbol__t.html#865c9304bcf9d63ae355a2c8af23819d">00118</a>   <span class="keywordtype">void</span> set_sid(<span class="keyword">const</span> size_int_t symb_id) { sid = symb_id; }
<a name="l00120"></a><a class="code" href="classdve__symbol__t.html#ba5d0d89975a6b660331aecdf23ea593">00120</a>   size_int_t get_gid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> gid; }
<a name="l00122"></a><a class="code" href="classdve__symbol__t.html#33c33e575a5022e2a2450599ff9cbd63">00122</a>   <span class="keywordtype">void</span> set_gid(<span class="keyword">const</span> size_int_t gid_arg) { gid = gid_arg; }
<a name="l00124"></a>00124 
<a name="l00126"></a><a class="code" href="classdve__symbol__t.html#f4ad261b7d7561d80ed596ad085b77da">00126</a>   size_int_t get_process_gid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> frame; }
<a name="l00128"></a><a class="code" href="classdve__symbol__t.html#b86338badb6db3ea7cd2304bea3c54cd">00128</a>   <span class="keywordtype">void</span> set_process_gid(<span class="keyword">const</span> size_int_t nbr) { frame = nbr; }
<a name="l00130"></a><a class="code" href="classdve__symbol__t.html#bd019bae7cd8efc23d447ccf813f7d1f">00130</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> * get_name()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> name; }
<a name="l00132"></a><a class="code" href="classdve__symbol__t.html#05ab70655536ebe94f36323715b8b9da">00132</a>   <span class="keywordtype">void</span> set_name(<span class="keyword">const</span> <span class="keywordtype">char</span> * new_name) { name = new_name; }
<a name="l00134"></a><a class="code" href="classdve__symbol__t.html#6562990e9bacecbb87647d49687281c6">00134</a>   size_int_t get_name_length()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> namelen; }
<a name="l00136"></a><a class="code" href="classdve__symbol__t.html#35181e79ed050bf73757000a7959fedc">00136</a>   <span class="keywordtype">void</span> set_name(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> str, <span class="keyword">const</span> size_int_t length)
<a name="l00137"></a>00137    { namelen = length; name = str; }
<a name="l00139"></a><a class="code" href="classdve__symbol__t.html#090a98e659add263a7137a22c474d9b8">00139</a>   dve_sym_type_t get_symbol_type()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> type; }
<a name="l00141"></a><a class="code" href="classdve__symbol__t.html#9dc2047719ff08406781894c5bbe1b86">00141</a>   <span class="keywordtype">void</span> set_symbol_type(<span class="keyword">const</span> dve_sym_type_t symb_type) { type = symb_type; }
<a name="l00143"></a><a class="code" href="classdve__symbol__t.html#7789da70e6c33470d2d6310a6e0f7236">00143</a>   <span class="keywordtype">bool</span> get_valid()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> valid; }
<a name="l00145"></a><a class="code" href="classdve__symbol__t.html#2e46dd32fb6ae1e49547ccf8043b8cad">00145</a>   <span class="keywordtype">void</span> set_valid(<span class="keyword">const</span> <span class="keywordtype">bool</span> is_valid) { valid = is_valid; }
<a name="l00147"></a><a class="code" href="classdve__symbol__t.html#dae7a98a44812abaa5497fafd637812e">00147</a>   <span class="keywordtype">bool</span> is_variable()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (type == SYM_VARIABLE); }
<a name="l00149"></a><a class="code" href="classdve__symbol__t.html#245efda1eea3a8ebb0ea4ff1c1241681">00149</a>   <span class="keywordtype">bool</span> is_process()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (type == SYM_PROCESS); }
<a name="l00151"></a><a class="code" href="classdve__symbol__t.html#a11095fa3de672beeccfafe64569625e">00151</a>   <span class="keywordtype">bool</span> is_channel()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (type == SYM_CHANNEL); }
<a name="l00153"></a><a class="code" href="classdve__symbol__t.html#d180356cac665f9f8a1b44163672a07a">00153</a>   <span class="keywordtype">bool</span> is_state()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (type == SYM_STATE); }
<a name="l00156"></a>00156 
<a name="l00157"></a><a class="code" href="classdve__symbol__t.html#a81f39e36b2b2d4afbf9460a0d997eea">00157</a>   <span class="keywordtype">bool</span> is_vector()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> info_var.vector; }
<a name="l00159"></a><a class="code" href="classdve__symbol__t.html#04edffd5985955671a94fddc521c9996">00159</a>   <span class="keywordtype">void</span> set_vector(<span class="keyword">const</span> <span class="keywordtype">bool</span> is_vector) { info_var.vector = is_vector; }
<a name="l00161"></a><a class="code" href="classdve__symbol__t.html#7210396d362b0d7c5cbdc15bb18257d6">00161</a>   <span class="keywordtype">bool</span> is_const()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> info_var.const_var; }
<a name="l00163"></a><a class="code" href="classdve__symbol__t.html#c478ba0c8291d1799ceac9255aca7d2b">00163</a>   <span class="keywordtype">void</span> set_const(<span class="keyword">const</span> <span class="keywordtype">bool</span> const_var) { info_var.const_var = const_var; }
<a name="l00165"></a>00165 
<a name="l00167"></a><a class="code" href="classdve__symbol__t.html#2dfc26e53d00a838dd0fbd6b1d663f25">00167</a>   <span class="keywordtype">bool</span> is_byte()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (info_var.var_type == VAR_BYTE); }
<a name="l00169"></a>00169 
<a name="l00171"></a><a class="code" href="classdve__symbol__t.html#d5f0c356738a1efd67332e7c31aff42c">00171</a>   <span class="keywordtype">bool</span> is_int()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (info_var.var_type == VAR_INT); }
<a name="l00173"></a><a class="code" href="classdve__symbol__t.html#d79e96274f08be32e4bc60909eda3599">00173</a>   dve_var_type_t get_var_type()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> info_var.var_type; }
<a name="l00175"></a><a class="code" href="classdve__symbol__t.html#ed808e91b691950cb82612ab400fd79d">00175</a>   <span class="keywordtype">void</span> set_var_type(<span class="keyword">const</span> dve_var_type_t var_type) { info_var.var_type=var_type; }
<a name="l00177"></a>00177 
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 
<a name="l00184"></a><a class="code" href="classdve__symbol__t.html#14a533fcd01acab554d0661dd00efe1a">00184</a>   <a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * get_init_expr() { <span class="keywordflow">return</span> (info_var.init.expr); }
<a name="l00187"></a><a class="code" href="classdve__symbol__t.html#f2bf4b5ab1543f0ac3246c61d25c0e86">00187</a>   <span class="keyword">const</span> <a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * get_init_expr()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (info_var.init.expr); }
<a name="l00189"></a><a class="code" href="classdve__symbol__t.html#e383961d55edf5f936d2a08173889be1">00189</a>   <span class="keywordtype">void</span> set_init_expr(<a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * <span class="keyword">const</span> p_expr)
<a name="l00190"></a>00190    { info_var.init.expr = p_expr; }
<a name="l00192"></a>00192 
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classdve__symbol__t.html#6f0773419794b183e257a1e6932186b7">00195</a>   size_int_t get_vector_size()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> info_var.bound; }
<a name="l00197"></a><a class="code" href="classdve__symbol__t.html#e53836c796486dec1c58b8f2a8016b83">00197</a>   <span class="keywordtype">void</span> set_vector_size(<span class="keyword">const</span> size_int_t ar_size) { info_var.bound = ar_size; }
<a name="l00199"></a><a class="code" href="classdve__symbol__t.html#4ba6fdd5a9a6985a5ecf91257fdbf4ad">00199</a>   size_int_t get_init_expr_count()<span class="keyword"> const</span>
<a name="l00200"></a>00200 <span class="keyword">   </span>{ <span class="keywordflow">return</span> (info_var.init.field ? (*info_var.init.field).size() : 0); }
<a name="l00202"></a><a class="code" href="classdve__symbol__t.html#6cc0964f62c10f835297c591a127b581">00202</a>   std::vector&lt;dve_expression_t *&gt; * get_init_expr_field()
<a name="l00203"></a>00203    { <span class="keywordflow">return</span> info_var.init.field; }
<a name="l00206"></a><a class="code" href="classdve__symbol__t.html#2fd32d9ea9458db2e5ab56473940e2ec">00206</a>   <span class="keywordtype">void</span> create_init_expr_field()
<a name="l00207"></a>00207    { info_var.init.field = <span class="keyword">new</span> std::vector&lt;dve_expression_t *&gt;; }
<a name="l00209"></a>00209 
<a name="l00212"></a><a class="code" href="classdve__symbol__t.html#3ad3c499e04ee3d264c1e38101c157ff">00212</a>   <span class="keywordtype">void</span> no_init_expr_field() { info_var.init.field = 0; }
<a name="l00214"></a><a class="code" href="classdve__symbol__t.html#8c6a64a0e054495c46128654f9a8d9a8">00214</a>   <span class="keyword">const</span> <a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * get_init_expr(<span class="keyword">const</span> size_int_t i)<span class="keyword"> const</span>
<a name="l00215"></a>00215 <span class="keyword">   </span>{ <span class="keywordflow">return</span> (*info_var.init.field)[i]; }
<a name="l00217"></a><a class="code" href="classdve__symbol__t.html#48e5783c81ade396cd0b4566d3626e2a">00217</a>   <span class="keywordtype">void</span> set_init_expr(<span class="keyword">const</span> size_int_t i, <a class="code" href="classdve__expression__t.html" title="Class representing an expression in DVE system.">dve_expression_t</a> * <span class="keyword">const</span> trans)
<a name="l00218"></a>00218    { (*info_var.init.field)[i] = trans; }
<a name="l00220"></a>00220 
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00226"></a><a class="code" href="classdve__symbol__t.html#ab597ae2c3c9ebd9bb46af8253a246c1">00226</a>   size_int_t get_channel_item_count()<span class="keyword"> const</span>
<a name="l00227"></a>00227 <span class="keyword">  </span>{ <span class="keywordflow">if</span> (get_channel_typed()) <span class="keywordflow">return</span> get_channel_type_list_size();
<a name="l00228"></a>00228     <span class="keywordflow">else</span> <span class="keywordflow">return</span> channel_item_count; }
<a name="l00230"></a>00230 
<a name="l00231"></a><a class="code" href="classdve__symbol__t.html#5c994f4dac1908abac9cbcbaeb818404">00231</a>   <span class="keywordtype">void</span> set_channel_item_count(<span class="keyword">const</span> size_int_t size)
<a name="l00232"></a>00232   { <span class="keywordflow">if</span> (get_channel_typed()) set_channel_type_list_size(size);
<a name="l00233"></a>00233     <span class="keywordflow">else</span> channel_item_count = size; }
<a name="l00235"></a><a class="code" href="classdve__symbol__t.html#9a3dc534c453bc8f3a06a7a413f49268">00235</a>   <span class="keywordtype">bool</span> get_channel_typed()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> channel_typed; }
<a name="l00237"></a><a class="code" href="classdve__symbol__t.html#44110f2e179c068930a758bd30efa9d5">00237</a>   <span class="keywordtype">void</span> set_channel_typed(<span class="keyword">const</span> <span class="keywordtype">bool</span> typed) { channel_typed = typed; }
<a name="l00240"></a><a class="code" href="classdve__symbol__t.html#bd479d7e9eefd92403e0122ebb76310e">00240</a>   size_int_t get_channel_type_list_size()<span class="keyword"> const</span>
<a name="l00241"></a>00241 <span class="keyword">  </span>{ <span class="keywordflow">return</span> channel_type_list.size(); }
<a name="l00244"></a><a class="code" href="classdve__symbol__t.html#3522cdcbbd375be18e4ae80b754bbfe7">00244</a>   <span class="keywordtype">void</span> set_channel_type_list_size(<span class="keyword">const</span> size_int_t size)
<a name="l00245"></a>00245   { channel_type_list.resize(size); }
<a name="l00248"></a><a class="code" href="classdve__symbol__t.html#7b68f6a219263c93deb47335e2d2de21">00248</a>   dve_var_type_t get_channel_type_list_item(<span class="keyword">const</span> size_int_t index)<span class="keyword"> const</span>
<a name="l00249"></a>00249 <span class="keyword">  </span>{ <span class="keywordflow">return</span> channel_type_list[index]; }
<a name="l00252"></a><a class="code" href="classdve__symbol__t.html#0cd97215968026c43196e9fa2bd9d40a">00252</a>   <span class="keywordtype">void</span> set_channel_type_list_item(<span class="keyword">const</span> size_int_t index,
<a name="l00253"></a>00253                                   <span class="keyword">const</span> dve_var_type_t type_item)
<a name="l00254"></a>00254   { channel_type_list[index] = type_item; }
<a name="l00256"></a><a class="code" href="classdve__symbol__t.html#ebe49182daca47fda0dcbd87540e9f56">00256</a>   slong_int_t get_channel_buffer_size()<span class="keyword"> const</span>
<a name="l00257"></a>00257 <span class="keyword">  </span>{ <span class="keywordflow">return</span> channel_buffer_size; }
<a name="l00259"></a><a class="code" href="classdve__symbol__t.html#a95802a33415e1989ae9ea805c1f373c">00259</a>   <span class="keywordtype">void</span> set_channel_buffer_size(<span class="keyword">const</span> slong_int_t buffer_size)
<a name="l00260"></a>00260   { channel_buffer_size = buffer_size; }
<a name="l00262"></a>00262  };
<a name="l00263"></a>00263   
<a name="l00264"></a>00264 <span class="preprocessor">#ifndef DOXYGEN_PROCESSING</span>
<a name="l00265"></a>00265 <span class="preprocessor"></span>} <span class="comment">//end of namespace</span>
<a name="l00266"></a>00266 <span class="preprocessor">#include "common/undeb.hh"</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 <span class="preprocessor">#endif //DOXYGEN_PROCESSING</span>
<a name="l00269"></a>00269 <span class="preprocessor"></span>
<a name="l00270"></a>00270 <span class="preprocessor">#endif</span>
<a name="l00271"></a>00271 <span class="preprocessor"></span>
</pre></div></div>

<hr size="1"><small><img align="center" src="divine_mini.gif"><b> Reference Manual for Library, 2006 developed in <a href="http://www.fi.muni.cz/paradise/">ParaDiSe</a> laboratory, <a href="http://www.fi.muni.cz/">Faculty of Informatics</a>, <a href="http://www.muni.cz/">Masaryk University</a></b></small>
</body>
</html>


