<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DiVinE: Model Manipulation Tools</title>
<link href="styles.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">DiVinE Toolset</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="mm_tools">Model Manipulation Tools </a></h1>Here you can find a description of tools for preprocessing, translation and compilation of models.<p>
Model checking tools, simulator and some of other tools cannot work with sources of models immediately. Often the sequence of code transformations is needed to get the source to the required format.<p>
First translation of DVE and Promela is discussed, second single tools and their invocation are described below.<p>
<h3>DVE input</h3>
<p>
The sequence of translations is the following:<p>
<center> <img class="formulaInl" alt="$ \left.\begin{array}{lcl} \mbox{model.mdve} &amp; \stackrel{(preprocesor)}{\longrightarrow} &amp; \mbox{model.dve}\\ \mbox{model.mltl} &amp; \stackrel{(preprocesor)}{\longrightarrow} &amp; \mbox{model.ltl} \end{array}\right\} \stackrel{combine}{\longrightarrow} \mbox{model.prop1.dve, model.prop2.dve, \dots} $" src="form_1.png"> </center><p>
Preprocessed DVE is ready to use as an input for simulator. But model checking algorithms furthermore need LTL formula encoded in a source as a neverclaim automaton. This can be done using <code>divine.combine</code>. This script implicitly calls <code>divine.preprocessor</code>, therefore precocessor usage is in parenthesis above.<p>
<code>model.ltl</code> may contain several formulas, therefore also several combined files (<code>model.prop1.dve</code>, <code>model.prop2.dve</code>) may be produced.<p>
<em>Summary:</em> Translation of DVE is easy - it needs at most one call (of <code>divine.combine</code>). LTL formulas can be in a separate file.<p>
<h3>Promela input</h3>
<p>
The sequence of translations is the following:<p>
<center> <img class="formulaInl" alt="$ \mbox{model.cpp.pml} \stackrel{preprocessor}{\longrightarrow} \mbox{model.pml} \stackrel{pml2s}{\longrightarrow} \mbox{model.pml.s} \stackrel{nips\_asm.pl}{\longrightarrow} \mbox{model.pml.b} $" src="form_2.png"> </center><p>
Preprocessed Promela needs to be translated to an assembler using <code>divine.pml2s.sh</code> and then to a bytecode using <code>divine.nips_asm.pl</code>. Unfortunatelly currently <code>divine.combine</code> cannot work with Promela, therefore neverclaim automaton expressing LTL formula must be encoded <b>already in a Promela source code</b>.<p>
<em>Summary:</em> Translation of DVE is little laborious for now - it needs 3 calls of different translation scripts. LTL formulas have to be currently encoded inside a Promela source code.<h2><a class="anchor" name="preprocessor">
preprocessor</a></h2>
<h3><a class="anchor" name="preprocessor_synopsis">
Synopsis</a></h3>
<code>divine.preprocessor [-D macros] model_source </code><p>
where <code>macros</code> is of the type <code>'parameter1=value1 parameter2=value2 ...'</code> and <code>model_source</code> is a source code of a model written in DVE with <code>m4</code> preprocessor macros or in Promela with <code>cpp</code> preprocessor macros.<h3><a class="anchor" name="preprocessor_description">
Description</a></h3>
Call appropriate preprocesor with DiVinE specific parameters on the given source of the model. In the resulting source code there are all macros expanded and it is printed to the standard output.<h2><a class="anchor" name="divinecombine">
combine - Combining Model and Formula</a></h2>
<h3><a class="anchor" name="divinecombine_synopsis">
Synopsis</a></h3>
<code>divine.combine [-hoqv] [-p number] model_source formula_source</code><p>
where:<ul>
<li><code>model_source</code> is a DVE source, which can contain macros (<code>*.mdve</code>) or not (<code>*.dve</code>)</li><li><code>formula_source</code> is an LTL formula, which can contain macros (<code>*.mltl</code>) or not (<code>*.ltl</code>)</li></ul>
<h3><a class="anchor" name="divinecombine_description">
Description</a></h3>
This script combines <code>model_source</code> with <code>formula_source</code>. If any of sources contains macros and has an appropriate extension (<code>*.mdve</code>, <code>*.mltl</code>), then macros are expanded first. Defaultly the script produces one DVE source for each LTL property in <code>formula_source</code>.<p>
Parameters:<ul>
<li><code>h</code> ... print a brief help</li><li><code>o</code> ... print a resulting file to standard output (valid only in a connection with <code>-p number</code> or <code>formula_source</code> containing only one formula); this option also implies <code>-q</code></li><li><code>p number</code> ... use only the <code>number</code>-th LTL formula</li><li><code>q</code> ... a quiet mode - do not print names of created files to the standard output</li><li><code>v</code> ... print a version</li></ul>
<h2><a class="anchor" name="promela_pml2s">
pml2s - Promela to Assembler Translator</a></h2>
<h3><a class="anchor" name="promela_pml2s_synopsis">
Synopsis</a></h3>
<code>divine.pml2s model_source</code><h3><a class="anchor" name="promela_pml2s_description">
Description</a></h3>
Translates Promela source code to the special assembler for compilation by <code>divine.nips_asm.pl</code>. The resulting assembler code is written to the file <code>model_source.s</code>.<h2><a class="anchor" name="promela_assem">
nips_asm.pl - Promela assembler compiler</a></h2>
<h3><a class="anchor" name="promela_assem_synopsis">
Synopsis</a></h3>
<code>divine.bymoc_asm.pl input.s [ output.b [output.l] ]</code><p>
or<p>
<code>divine.nips_asm.pl input.s [ output.b [output.l] ]</code><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>divine.nips_asm.pl and divine.bymoc_asm.pl are the same scripts with different names (for historical reasons).</dd></dl>
<h3><a class="anchor" name="promela_assem_description">
Description</a></h3>
Translates an assembler source to the binary bytecode (input of model checking algorithms).<p>
This script produces always 2 files. User can only change their default names (original name + <code>.b</code> or <code>.l</code>):<ul>
<li><code>output.b</code> ... a byte code to be interpreted in a simulation or model checking</li><li><code>output.l</code> ... references to the bytecode - not needed for interpreting of a bytecode, but useful for debugging (instructions of original assembler source are mapped to addresses to the bytecode)</li></ul>
<h2><a class="anchor" name="syntax_checking">
syntax - Syntax Checking</a></h2>
<h3><a class="anchor" name="syntax_checking_synopsis">
Synopsis</a></h3>
<code>divine.syntax model_source</code><h3><a class="anchor" name="syntax_checking_description">
Description</a></h3>
Checks, whether given <b>DVE</b> source is syntactically correct. This script does not work for Promela models.<h2><a class="anchor" name="automata_drawing">
draw_automata - Automata Drawing</a></h2>
<h3><a class="anchor" name="automata_drawing_synopsis">
Synopsis</a></h3>
<code>divine.draw_automata model_source</code><h3><a class="anchor" name="automata_drawing_description">
Description</a></h3>
Prints a graph in a <code>dot</code> format to the standard output. Graph consists of process states and possible transitions between them. Details like guards and effects are ommited from the graph.<p>
It works only with <b>DVE</b> models. </div>
<hr size="1"><small><img align="center" src="divine_mini.gif"><b>Tutorial, 2006 developed in <a href="http://www.fi.muni.cz/paradise/">ParaDiSe</a> laboratory, <a href="http://www.fi.muni.cz/">Faculty of Informatics</a>, <a href="http://www.muni.cz/">Masaryk University</a></b></small>
</body>
</html>



